import React from 'react'
import ReactApexChart from 'react-apexcharts';
import { Col, Row} from "react-bootstrap";
import {EndBorrowerIcon} from "../../../assests/images/partner-icons/icons";
import {DedupeIcon} from "../../../assests/images/partner-icons/icons";
import {InitialFilterIcon} from "../../../assests/images/partner-icons/icons";
import {KycIcon} from "../../../assests/images/partner-icons/icons";
import {BureauIcon} from "../../../assests/images/partner-icons/icons";
import {ArrowRightOutlined} from "@ant-design/icons";
import {Button} from "antd";
import {  useNavigate } from "react-router-dom";

export const EndBorrowerView = () => {
  const navigate = useNavigate();
  const openEndBorrowerPage = () => {
    navigate("/end-borrowers")
}

const svgData = `
        <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M36.2677 17.3345C37.164 17.7363 37.9801 18.2876 38.6785 18.963C40.2075 20.4378 41.0725 22.3845 41.1283 24.4607C41.1291 24.4894 41.1239 24.5181 41.113 24.5449C41.1021 24.5717 41.0858 24.5961 41.065 24.6167C41.0442 24.6373 41.0193 24.6537 40.9918 24.6648C40.9644 24.676 40.9349 24.6818 40.9051 24.6818H39.3426C39.2226 24.6818 39.1221 24.5901 39.1193 24.4741C39.0635 22.9103 38.4078 21.4462 37.2582 20.3354C36.0556 19.1733 34.4568 18.5343 32.7576 18.5343C31.9214 18.532 31.0931 18.6901 30.3205 18.9992C29.548 19.3084 28.8466 19.7625 28.2569 20.3354C27.1045 21.4462 26.4488 22.9103 26.3958 24.4741C26.393 24.5901 26.2925 24.6818 26.1725 24.6818H24.61C24.5802 24.6818 24.5507 24.676 24.5233 24.6648C24.4958 24.6537 24.471 24.6373 24.4501 24.6167C24.4293 24.5961 24.413 24.5717 24.4021 24.5449C24.3913 24.5181 24.386 24.4894 24.3868 24.4607C24.4426 22.3845 25.3076 20.4378 26.831 18.963C27.5292 18.2873 28.3453 17.736 29.2418 17.3345C27.9806 16.3449 27.1715 14.835 27.1715 13.1418C27.1715 10.1921 29.6241 7.79511 32.6683 7.74927C35.7599 7.70344 38.3381 10.1543 38.3381 13.1418C38.3381 14.835 37.5317 16.3449 36.2677 17.3345ZM30.2324 15.5819C30.9048 16.2344 31.8033 16.593 32.7576 16.593C33.2272 16.5943 33.6924 16.5056 34.1263 16.3321C34.5602 16.1585 34.9542 15.9035 35.2855 15.5819C35.9608 14.9294 36.3319 14.0639 36.3319 13.1418C36.3319 12.2089 35.9524 11.3326 35.2604 10.6774C34.5852 10.0384 33.6672 9.68249 32.7213 9.69058C31.7642 9.70136 30.8685 10.0707 30.1989 10.734C29.5599 11.3676 29.1944 12.2224 29.186 13.1067C29.1795 13.5661 29.2688 14.0219 29.4485 14.4472C29.6283 14.8725 29.8949 15.2584 30.2324 15.5819Z" fill="#1B212D"/>
            <path d="M25.7289 13.1418C25.7289 13.3817 25.7428 13.619 25.768 13.8536C25.7819 13.9614 25.7094 14.0612 25.6005 14.0882C24.504 14.3551 23.4995 14.9051 22.6791 15.6978C21.5268 16.8087 20.871 18.2728 20.818 19.8366C20.8152 19.9525 20.7148 20.0442 20.5948 20.0442H19.0295C18.9997 20.0442 18.9702 20.0385 18.9427 20.0273C18.9153 20.0161 18.8904 19.9997 18.8696 19.9791C18.8488 19.9585 18.8325 19.9341 18.8216 19.9073C18.8107 19.8805 18.8055 19.8519 18.8063 19.8231C18.8621 17.7443 19.727 15.7976 21.2561 14.3227C21.9648 13.6379 22.7824 13.0906 23.6697 12.6942C22.4057 11.7047 21.5993 10.1948 21.5993 8.50153C21.5993 5.51678 24.1775 3.06588 27.2719 3.11172C29.4148 3.14407 31.2676 4.34121 32.1744 6.0749C32.2441 6.20971 32.1549 6.37149 31.9986 6.38767C31.4657 6.44159 30.9467 6.55753 30.4556 6.722C30.3607 6.75436 30.2519 6.71931 30.1961 6.63572C30.0371 6.39845 29.8473 6.17736 29.6269 5.97783C28.9767 5.39005 28.1174 5.05841 27.2273 5.05032C26.2423 5.03954 25.3159 5.41162 24.6267 6.09377C23.9989 6.71391 23.639 7.53627 23.6139 8.40177C23.599 8.87949 23.6873 9.35496 23.8733 9.79784C24.0592 10.2407 24.3386 10.6413 24.6937 10.974C24.9951 11.2598 25.3438 11.4863 25.7233 11.6508C25.8154 11.6912 25.8684 11.791 25.8489 11.888C25.7707 12.2952 25.7289 12.7131 25.7289 13.1418Z" fill="#1B212D"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M51.0486 27.4047C50.3898 26.9272 49.5666 26.8618 48.9388 26.9144C48.2818 26.9696 47.5975 27.1724 47.0546 27.4871L46.9825 27.5289L39.9311 33.104C39.7252 32.7 39.4482 32.3546 39.116 32.0695C38.2863 31.3577 37.2548 31.1447 36.5548 31.1447H30.3074C29.3968 30.7126 28.1693 30.4494 27.1426 30.2831C25.9696 30.0932 24.862 30.0012 24.3372 29.9737C23.2038 29.8794 22.4749 29.8869 21.1475 29.9737C21.1314 29.9747 21.1154 29.9761 21.0993 29.9778C20.2423 30.0698 19.2038 30.4173 18.2597 30.8443C17.3066 31.2754 16.332 31.841 15.6171 32.4455C15.5976 32.4621 15.5785 32.4793 15.5601 32.4971L11.9863 35.9505C10.863 34.9073 9.12884 34.6763 7.75915 35.49L6.30478 36.354C4.67417 37.3227 4.1776 39.4052 5.19566 41.0055L11.7165 51.2553C12.7345 52.8556 14.8817 53.3675 16.5123 52.3988L17.9667 51.5348C19.4017 50.6823 19.9584 48.9671 19.3774 47.4772L21.6518 45.9258C22.036 45.7426 22.1685 45.7005 22.3095 45.6764C22.5114 45.642 22.772 45.6379 23.4938 45.6379L37.6671 45.7852L37.7287 45.7792C38.4727 45.7073 39.2146 45.6247 39.9152 45.3238C40.651 45.0078 41.2454 44.4987 41.847 43.7545L51.7423 32.2799L51.7778 32.2285C52.1129 31.7428 52.402 31.2287 52.5255 30.6619C52.6587 30.0505 52.5789 29.4793 52.3501 28.9267L52.3312 28.8811L52.3083 28.8368L52.3075 28.8352L52.3062 28.8328L52.3033 28.8273L52.2961 28.8138L52.2757 28.7766C52.2594 28.7475 52.2376 28.71 52.2103 28.6655C52.1559 28.5768 52.0785 28.4588 51.9776 28.3246C51.7787 28.0604 51.4717 27.7114 51.0486 27.4047ZM51.2792 29.37C52.3086 28.8373 52.3083 28.8368 52.3083 28.8368L51.2792 29.37ZM18.1856 45.4841L13.3394 37.8665L17.1416 34.1923C17.6417 33.7763 18.3997 33.3252 19.215 32.9564C20.0426 32.582 20.8154 32.3441 21.3249 32.2851C22.562 32.2047 23.1702 32.2021 24.1623 32.2852C24.1749 32.2863 24.1875 32.2871 24.2002 32.2878C24.6451 32.3104 25.6801 32.3946 26.772 32.5714C27.9115 32.7559 28.9274 33.0142 29.4583 33.3134C29.632 33.4113 29.8281 33.4628 30.0275 33.4628H36.5548C36.8669 33.4628 37.3078 33.5725 37.6065 33.8288C37.823 34.0146 38.0977 34.3842 38.0026 35.2512C37.9706 35.3271 37.9451 35.3647 37.9247 35.3891C37.9011 35.4172 37.8412 35.4796 37.6705 35.5569C37.2801 35.7338 36.4899 35.9123 34.8594 35.9854H29.7239C29.0837 35.9854 28.5648 36.5043 28.5648 37.1445C28.5648 37.7846 29.0837 38.3035 29.7239 38.3035H34.885C34.902 38.3035 34.919 38.3031 34.9359 38.3024C36.6279 38.2281 37.805 38.0408 38.627 37.6685C39.0635 37.4708 39.4211 37.2123 39.7011 36.8783C39.9769 36.5493 40.1295 36.2036 40.2311 35.9088C40.2439 35.8718 40.2548 35.8342 40.2637 35.7961L48.2792 29.4588C48.4964 29.3473 48.8124 29.2513 49.1326 29.2244C49.3022 29.2102 49.4439 29.218 49.5492 29.238C49.6456 29.2564 49.6844 29.2794 49.6882 29.2816C49.8722 29.415 50.0207 29.5794 50.1254 29.7186C50.1739 29.783 50.2093 29.837 50.2311 29.8723C50.282 30.0145 50.277 30.0928 50.2606 30.1684C50.2335 30.2927 50.1495 30.4991 49.9036 30.8625L40.0662 42.2699L40.0539 42.2853C39.5972 42.8526 39.2841 43.072 39.0004 43.1939C38.685 43.3293 38.3008 43.3936 37.5668 43.4659L23.5119 43.3198L23.4079 43.3198C22.812 43.3196 22.3411 43.3195 21.9198 43.3913C21.4247 43.4758 21.0337 43.6497 20.5668 43.8753L20.4892 43.9128L18.1856 45.4841ZM9.00342 37.4458L7.54905 38.3098C7.0191 38.6246 6.85772 39.3015 7.18859 39.8216L13.7094 50.0714C14.0403 50.5914 14.7381 50.7578 15.2681 50.443L16.7224 49.579C17.2524 49.2642 17.4138 48.5873 17.0829 48.0673L10.5621 37.8175C10.2312 37.2974 9.53337 37.131 9.00342 37.4458Z" fill="#1B212D"/>
        </svg>
    `;

  const base64 = btoa(svgData);

    const series = [72, 65, 54, 40];

  const chartOptions = {
    chart: {
      height: 600,
      type: 'radialBar',
    },
      plotOptions: {
          radialBar: {
              hollow: {
                  margin: 15,
                  size: '45%',
                  image: 'data:image/svg+xml;base64,'+base64,
                  imageWidth: 45,
                  imageHeight: 45,
                  imageOffsetY: -30,
                  imageClipped: false
              },
              dataLabels: {
                  name: {
                      show: true,
                      fontSize: '22px',
                      offsetY: 16,
                  },
                  value: {
                      show: true,
                      offsetY: 25,
                      fontSize: '16px',
                  },
                  total: {
                      show: true,
                      label: '10,000',
                      formatter: function (w) {
                          return 'Total End Borrowers';
                      },
                  }
              },
              track: {
                  margin: 8,
                  width: '100%'
              },
          }
      },
      labels: ['Dedupe', 'Initial filter', 'KYC', 'Bureau & Credit filter'],
      colors: ['#F58220', '#59C5C7', '#3763AF', '#3DBD48'],
    // plotOptions: {
    //   radialBar: {
    //       hollow: {
    //           margin: 15,
    //           size: '50%',
    //           image: './hands.png',
    //           imageWidth: 64,
    //           imageHeight: 64,
    //           position: 'front'
    //       },
    //     dataLabels: {
    //       name: {
    //         fontSize: '22px',
    //       },
    //       value: {
    //         fontSize: '16px',
    //       },
    //       total: {
    //         show: true,
    //         label: '10,000',
    //         formatter: function (w) {
    //           return 'Total End Borrowers';
    //         },
    //       },
    //     },
    //   },
    // },
    // labels: ['Dedupe', 'Initial filter', 'KYC', 'Bureau & Credit filter'],
    // colors: ['#F58220', '#59C5C7', '#3763AF', '#3DBD48'],
  };

  return (
    <div>
    <div className='d-flex'>      
        <Col lg={5} className="pe-16px ps-0">
            <div id="chart">
                <ReactApexChart options={chartOptions} series={series} type="radialBar" height={450} />
            </div>
            <div id="html-dist"></div>                             
        </Col>   
        <Col lg={7} className="pe-16px ps-0 py-5rem">
            <Row className="pa-24 m-0">
                <Col lg={6} className="pe-16px ps-0 d-flex">
                  <Col lg={3} className="pe-16px ps-0">
                  <DedupeIcon />
                  </Col>
                  <Col lg={9} className="pe-16px ps-4 pt-2" >
                    <div className='chartNum chartDedupe'>7,262 (72%)</div>
                    <small className='chartTxt'>Dedupe-Success</small>
                  </Col>                    
                </Col>  
                <Col lg={6} className="pe-16px ps-0 d-flex">
                  <Col lg={3} className="pe-16px ps-0">
                  <InitialFilterIcon />
                  </Col>
                  <Col lg={9} className="pe-16px ps-4 pt-2" >
                    <div className='chartNum chartInitialFilter'>6,530 (65%)</div>
                    <small className='chartTxt'>Initial Filter-Success</small>
                  </Col>                    
                </Col>             
            </Row>
            <Row className="pa-24 m-0">
            <Col lg={6} className="pe-16px ps-0 d-flex">
                <Col lg={3} className="pe-16px ps-0">
                  <KycIcon />
                  </Col>
                  <Col lg={9} className="pe-16px ps-4 pt-2" >
                    <div className='chartNum chartKyc'>5,405 (54%)</div>
                    <small className='chartTxt'>KYC-Success</small>
                  </Col>                    
                </Col>   
                <Col lg={6} className="pe-16px ps-0 d-flex">
                  <Col lg={3} className="pe-16px ps-0">
                  <BureauIcon />
                  </Col>
                  <Col lg={9} className="pe-16px ps-4 pt-2" >
                    <div className='chartNum chartBureau'>4,020 (40%)</div>
                    <small className='chartTxt'>Bureau checks & Credit Filter-Success</small>
                  </Col>                    
                </Col>  
            </Row>    
        </Col>  
        </div>
        <div className='text-center'>
        <Button className="view-endBorrower-btn ff-inter fw-600 fs-14 lh-18 color-blue-primary" onClick={openEndBorrowerPage}> <span className="ms-2">View End Borrowers</span><ArrowRightOutlined/></Button>
        </div>              
    </div>
  )
}
